<html>

<head>
    <style>
        .cell {
            display: inline-block;
            border: 1px solid #b0b0b0;
            background: #eee;
            width: 20px;
            height: 20px;
            margin: 1;
        }

        .cell.fig {
            background-color: #088;
        }
        .cell.fig.center {
            background-color: #aa0;
        }
    </style>
</head>

<body>
    <div style="display: flex;justify-content: center;">
        <div id="board">
        </div>
    </div>

    <script>
        const boardWidth = 4;
        const boardHeight = 4;

        let fx = 1;
        let fy = 1;

        const boardEl = document.getElementById('board');
        createBoard();
        paintFig(fx, fy);

        document.addEventListener('keyup', e => {
            
            eraseFig(fx, fy);
            if (e.code === 'ArrowLeft' && canMove(fx-1, fy)) fx--;
            if (e.code === 'ArrowRight' && canMove(fx+1, fy)) fx++;
            if (e.code === 'ArrowUp' && canMove(fx, fy-1)) fy--;
            if (e.code === 'ArrowDown' && canMove(fx-1, fy+1)) fy++;
            paintFig(fx, fy);
            console.log(e.code, fx, fy);
        });


        function paintFig(x, y) {
            //OOO
            // O
            setClass(x, y, 'fig center');
            setClass(x-1, y, 'fig');
            setClass(x+1, y, 'fig');
            setClass(x, y+1, 'fig');
        }

        function eraseFig(x, y) {
            setClass(x, y, '');
            setClass(x-1, y, '');
            setClass(x+1, y, '');
            setClass(x, y+1, '');
        }

        function canMove(x, y) {
            if (x < 1 || x >= boardWidth-1) return false; 
            if (y < 0 || y >= boardHeight-1) return false; 

            return true;
        }
        function setClass(x, y, className) {
            boardEl.querySelectorAll('.cell')[y * boardWidth + x].className = 'cell ' + className;
        }

        function createBoard() {
            let s = '';
            for (let y = 0; y < boardHeight; y++) {
                for (let x = 0; x < boardWidth; x++) {
                    s += `<div class='cell'></div>`
                }
                s += "<br/>"
            }
            boardEl.innerHTML = s;
        }
    </script>
</body>

</html>